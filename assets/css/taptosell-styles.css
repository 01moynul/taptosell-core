/**
 * TapToSell Core Frontend Styles
 *
 * This stylesheet defines the visual appearance for all frontend components
 * of the TapToSell plugin, ensuring a consistent brand experience.
 *
 * @version 1.2.3
 */

/* =================================================================
 * 1. Typography & General Layout
 * ================================================================= */

/* Main container for shortcode content to add consistent spacing and background */
.taptosell-container {
    padding: 25px;
    background-color: #ffffff; /* Clean white background */
    border: 1px solid #e0e0e0;
    margin-top: 20px;
    font-family: 'Nunito', sans-serif; /* Default body font */
    color: #333;
}

/* Headings within our container (e.g., "My Wallet", "My Products") */
.taptosell-container h2,
.taptosell-container h3 {
    font-family: 'Poppins', sans-serif; /* Bold title font */
    color: #222831; /* Modern Black for titles */
    margin-top: 0;
    margin-bottom: 20px;
}

.taptosell-container h4 {
    font-family: 'Poppins', sans-serif;
    color: #222831;
    margin-top: 0;
    margin-bottom: 10px;
}

/* =================================================================
 * 2. Buttons
 * ================================================================= */

/* Primary Button Styling (e.g., "Add Product", "Save My Price") */
.taptosell-container button,
.taptosell-container input[type="submit"],
.taptosell-container .button-primary {
    background-color: #23B574 !important; /* Primary Green */
    border-color: #1a8c5a !important;
    color: #ffffff !important;
    padding: 10px 20px !important;
    font-size: 14px !important;
    font-weight: bold;
    text-transform: uppercase;
    border-radius: 5px !important;
    cursor: pointer;
    transition: background-color 0.3s ease, border-color 0.3s ease;
    text-decoration: none;
    display: inline-block;
    line-height: normal;
}

/* Primary Button Hover State */
.taptosell-container button:hover,
.taptosell-container input[type="submit"]:hover,
.taptosell-container .button-primary:hover {
    background-color: #1a8c5a !important; /* Darker Green */
    border-color: #1a8c5a !important;
}

/* Secondary Button Styling (e.g., "Last 30 Days") */
.taptosell-container .button-secondary {
    background-color: #6c757d !important;
    border-color: #5a6268 !important;
    color: #ffffff !important;
}

.taptosell-container .button-secondary:hover {
    background-color: #5a6268 !important;
    border-color: #545b62 !important;
}

/* =================================================================
 * 3. Forms
 * ================================================================= */

/* General styling for form elements */
.taptosell-container form p {
    margin-bottom: 15px;
}

.taptosell-container form label {
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
    display: block;
    margin-bottom: 5px;
}

/* Styling for all text-based input fields */
.taptosell-container input[type="text"],
.taptosell-container input[type="email"],
.taptosell-container input[type="password"],
.taptosell-container input[type="number"],
.taptosell-container input[type="url"],
.taptosell-container select,
.taptosell-container textarea {
    width: 100%;
    max-width: 450px; /* Limit max width for readability */
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-family: 'Nunito', sans-serif;
    font-size: 15px;
    transition: border-color 0.3s ease;
}

.taptosell-container input:focus,
.taptosell-container select:focus,
.taptosell-container textarea:focus {
    border-color: #23B574; /* Highlight with primary color on focus */
    outline: none;
    box-shadow: 0 0 5px rgba(35, 181, 116, 0.2);
}

/* =================================================================
 * 4. Tables
 * ================================================================= */

/* Styling for data tables (e.g., "My Products", "Transaction History") */
.taptosell-container table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

.taptosell-container th,
.taptosell-container td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid #e0e0e0;
}

.taptosell-container thead th {
    background-color: #f9f9f9;
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 13px;
    color: #555;
}

.taptosell-container tbody tr:hover {
    background-color: #f5f5f5;
}

.taptosell-container td a {
    color: #23B574;
    text-decoration: none;
    font-weight: bold;
}

.taptosell-container td a:hover {
    text-decoration: underline;
}

/* =================================================================
 * 5. Supplier Dashboard Specifics
 * ================================================================= */

/* "My Product Submissions" Table Enhancements */
.taptosell-container .wp-list-table {
    margin-top: 0; /* Remove default margin to align with heading */
}

/* Status Badges Styling */
.taptosell-container .status-badge {
    padding: 4px 10px;
    border-radius: 12px;
    color: #fff;
    font-weight: bold;
    font-size: 12px;
    text-transform: uppercase;
    display: inline-block;
}

.taptosell-container .status-approved {
    background-color: #28a745; /* Green */
}

.taptosell-container .status-rejected {
    background-color: #dc3545; /* Red */
}

.taptosell-container .status-pending {
    background-color: #ffc107; /* Yellow */
    color: #212529;
}

/* Rejection reason text style */
.taptosell-container .rejection-reason {
    color: #721c24;
    font-size: 0.9em;
    margin-top: 5px;
    display: block;
}

/* "Add New Product" & "Edit Product" Form Sections */
.taptosell-container #new-product-form .form-section,
.taptosell-container #edit-product-form .form-section {
    border: 1px solid #ddd;
    padding: 20px;
    margin: 25px 0;
    border-radius: 5px;
    background-color: #fcfcfc;
}

.taptosell-container #new-product-form .form-section h4,
.taptosell-container #edit-product-form .form-section h4 {
    margin-top: 0;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
    margin-bottom: 20px;
}

/* Adjustments for the WP Editor in forms */
.taptosell-container .wp-editor-wrap {
    border: 1px solid #ccc;
    border-radius: 4px;
}

/* Readonly fields for approved products */
.taptosell-container input[readonly],
.taptosell-container textarea[readonly] {
    background-color: #f0f0f0;
    cursor: not-allowed;
    border-color: #ddd;
}

/* Price change request form styling */
.taptosell-container .price-change-request-form {
    margin-top: 40px;
    padding-top: 20px;
    border-top: 2px dashed #e0e0e0;
}

/* =================================================================
 * 6. Dropshipper Dashboard & Catalog
 * ================================================================= */

/* Product Catalog Grid Layout */
.product-catalog-grid,
.my-products-list {
    display: grid !important; /* Force grid layout */
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 25px;
}

/* Individual Product Card Styling */
.taptosell-container .product-card {
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    background-color: #fff;
    display: flex;
    flex-direction: column;
    text-align: center;
    padding: 0;
    overflow: hidden;
    transition: box-shadow 0.3s ease, transform 0.3s ease;
}

.taptosell-container .product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

/* Product Card Image */
.taptosell-container .product-card img {
    max-width: 100%;
    height: auto;
    aspect-ratio: 1 / 1;
    object-fit: cover;
}

/* Container for the text content inside the card */
.taptosell-container .product-card-content {
    padding: 20px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

.taptosell-container .product-card-content h3 {
    font-size: 1.1em;
    margin: 0 0 10px 0;
}

.taptosell-container .product-card-content p {
    margin: 0 0 15px 0;
    font-size: 14px;
    color: #555;
}

.taptosell-container .product-card-content p strong {
    color: #333;
}

/* Form within the product card for setting SRP */
.taptosell-container .product-card-content form {
    margin-top: auto;
}

.taptosell-container .product-card-content form input {
    max-width: 120px;
    margin: 5px auto 10px;
    text-align: center;
}

/* Sales Summary Chart Container */
.taptosell-container .sales-summary-container {
    padding: 20px;
    background-color: #f9f9f9;
    border: 1px solid #e0e0e0;
    border-radius: 5px;
}

.taptosell-container .period-selector {
    margin-bottom: 20px;
}

/* =================================================================
 * 7. Shared Pages (Wallet, Notifications, etc.)
 * ================================================================= */

/* Wallet Page Specifics */
.taptosell-wallet-container .wallet-balances {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.taptosell-wallet-container .wallet-balance-card {
    padding: 20px;
    border-radius: 8px;
    color: #fff;
}

/* Specific colors for different balance types */
.taptosell-wallet-container .balance-current { /* Dropshipper Main Balance */
    background-color: #17a2b8; /* Info Blue */
}

.taptosell-wallet-container .balance-available { /* Supplier Available Balance */
    background-color: #23B574; /* Primary Green */
}

.taptosell-wallet-container .balance-pending { /* Supplier Pending Balance */
    background-color: #ffc107; /* Warning Yellow */
    color: #212529;
}

.taptosell-wallet-container .wallet-balance-card h4 {
    color: inherit; /* Inherit color from parent (white or black) */
    margin-bottom: 5px;
    font-size: 16px;
    opacity: 0.9;
}

.taptosell-wallet-container .wallet-balance-card p {
    font-size: 2.2em;
    font-weight: bold;
    margin: 0;
    line-height: 1.2;
}

/* Styling for forms within the wallet (top-up, withdrawal) */
.taptosell-wallet-container .wallet-form-section {
    margin-bottom: 40px;
    padding-bottom: 20px;
    border-bottom: 1px solid #e0e0e0;
}

/* --- Notifications Panel Styling (Forceful Debug Version) --- */

/* This rule is intentionally broad to override any conflicts */
.taptosell-notifications-panel ul {
    list-style: none !important;
    padding-left: 0 !important;
    margin-left: 0 !important;
}

.taptosell-notifications-panel li {
    padding: 15px;
    border-bottom: 1px solid #eee;
    background-color: #ffffff; /* Explicitly set a white background for read items */
}

/* This rule targets the class directly and uses !important to guarantee it applies */
li.notification-unread {
    background-color: #eef7ff !important;
    font-weight: bold !important;
}

.taptosell-notifications-panel li a {
    text-decoration: none;
    color: #23B574; /* Use the primary green for links */
}

.taptosell-notifications-panel li small {
    font-size: 0.85em;
    color: #777;
    font-weight: normal; /* Ensure date is not bold */
    display: block;
    margin-top: 5px;
}

/* --- My Subscription Page Styling --- */

.taptosell-subscription-container {
    padding: 25px;
    background-color: #f9f9f9;
    border: 1px solid #e0e0e0;
    border-radius: 5px;
    max-width: 500px;
}

.taptosell-subscription-container h3 {
    margin-top: 0;
    border-bottom: 1px solid #e0e0e0;
    padding-bottom: 15px;
}

.taptosell-subscription-container p {
    font-size: 1.1em;
    margin: 15px 0;
}

.taptosell-subscription-container .status-badge {
    padding: 4px 10px;
    border-radius: 12px;
    color: #fff;
    font-weight: bold;
    font-size: 1em;
    text-transform: uppercase;
    display: inline-block;
}

.taptosell-subscription-container .status-active {
    background-color: #28a745; /* Green */
}

.taptosell-subscription-container .status-inactive {
    background-color: #dc3545; /* Red */
}

/* In: assets/css/taptosell-styles.css */

/* =================================================================
 * 8. Pop-up Login Modal
 * ================================================================= */

/* The modal background (overlay) */
.taptosell-modal-overlay {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 9999; /* Sit on top of everything */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0, 0, 0); /* Fallback color */
    background-color: rgba(0, 0, 0, 0.6); /* Black w/ opacity */
}

/* Modal Content/Box */
.taptosell-modal-content {
    background-color: #ffffff;
    margin: 10% auto; /* 10% from the top and centered */
    padding: 30px;
    border: 1px solid #888;
    width: 90%;
    max-width: 450px; /* Limit max width */
    border-radius: 8px;
    position: relative;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

/* The Close Button (x) */
.taptosell-modal-close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    position: absolute;
    top: 10px;
    right: 20px;
    line-height: 1;
    text-decoration: none;
}

.taptosell-modal-close:hover,
.taptosell-modal-close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
}

/* Modal Title */
.taptosell-modal-title {
    font-family: 'Poppins', sans-serif;
    color: #222831;
    margin-top: 0;
    margin-bottom: 25px;
    text-align: center;
    font-size: 24px;
}

/* --- WordPress Login Form Styling --- */

/* Style the form labels */
#taptosell-login-form label {
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
    display: block;
    margin-bottom: 5px;
    color: #333;
}

/* Style the form input fields */
#taptosell-login-form input[type="text"],
#taptosell-login-form input[type="password"] {
    width: 100%;
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-family: 'Nunito', sans-serif;
    font-size: 15px;
    box-sizing: border-box; /* Important for 100% width */
}

/* Remember Me checkbox */
#taptosell-login-form .login-remember {
    margin-top: 15px;
    font-family: 'Nunito', sans-serif;
}

#taptosell-login-form .login-remember label {
    display: inline-block;
    font-weight: normal;
    color: #555;
}

/* Login Button */
#taptosell-login-form .login-submit #taptosell-wp-submit {
    width: 100%;
    background-color: #23B574 !important; /* Primary Green */
    border-color: #1a8c5a !important;
    color: #ffffff !important;
    padding: 12px 20px !important;
    font-size: 16px !important;
    font-weight: bold;
    text-transform: uppercase;
    border-radius: 5px !important;
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-top: 20px;
}

#taptosell-login-form .login-submit #taptosell-wp-submit:hover {
    background-color: #1a8c5a !important; /* Darker Green */
}

/* Links at the bottom (Lost Password, Register) */
.taptosell-modal-links {
    text-align: center;
    margin-top: 25px;
    padding-top: 15px;
    border-top: 1px solid #eee;
}

.taptosell-modal-links a {
    color: #555;
    text-decoration: none;
    font-family: 'Nunito', sans-serif;
    font-size: 14px;
    margin: 0 10px;
}

.taptosell-modal-links a:hover {
    color: #23B574;
    text-decoration: underline;
}

/* =================================================================
 * 9. Supplier Dashboard Tabs (New)
 * ================================================================= */

/* Container for the tab navigation */
.taptosell-container .supplier-product-tabs {
    display: flex;
    border-bottom: 2px solid #e0e0e0;
    margin-bottom: 25px;
}

/* Individual tab link styling */
.taptosell-container .supplier-product-tabs a {
    padding: 12px 20px;
    font-family: 'Poppins', sans-serif;
    font-size: 15px;
    font-weight: 600;
    color: #555;
    text-decoration: none;
    border-bottom: 3px solid transparent; /* Hidden border for the active effect */
    margin-bottom: -2px; /* Pulls the link down to overlap the main container border */
    transition: color 0.3s ease, border-bottom-color 0.3s ease;
}

/* Hover state for inactive tabs */
.taptosell-container .supplier-product-tabs a:hover {
    color: #222831;
}

/* Active tab styling */
.taptosell-container .supplier-product-tabs a.nav-tab-active {
    color: #23B574; /* Primary Green for active tab */
    border-bottom-color: #23B574; /* Primary Green border */
}

/* Counter badge next to the tab title */
.taptosell-container .supplier-product-tabs .count {
    background-color: #e0e0e0;
    color: #555;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.8em;
    font-weight: bold;
    margin-left: 8px;
}

/* Active tab's counter badge styling */
.taptosell-container .supplier-product-tabs a.nav-tab-active .count {
    background-color: #23B574;
    color: #ffffff;
}

/* =================================================================
 * 10. Supplier Product List Table (New)
 * ================================================================= */

/* Style for the main product list table */
.taptosell-product-list {
    border-collapse: separate; /* Use separate borders to allow for spacing */
    border-spacing: 0 10px; /* Vertical spacing between rows */
    margin-top: 20px;
}

/* Remove the default table header line */
.taptosell-product-list thead {
    display: none; /* Hide the header, we use data-labels for mobile */
}

/* Styling for each table row */
.taptosell-product-list tr {
    background: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 8px; /* Rounded corners for each product row */
    margin-bottom: 10px;
    display: table-row;
    transition: box-shadow 0.2s ease-in-out;
}
.taptosell-product-list tr:hover {
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
}


/* Styling for table cells */
.taptosell-product-list td {
    padding: 15px;
    vertical-align: middle;
    border: none; /* Remove default cell borders */
    border-top: 1px solid #f5f5f5; /* Light top border for separation */
}

.taptosell-product-list tr td:first-child {
    border-top-left-radius: 8px;
     border-bottom-left-radius: 8px;
}
.taptosell-product-list tr td:last-child {
    border-top-right-radius: 8px;
     border-bottom-right-radius: 8px;
}


/* Combined product info column */
.product-info-flex {
    display: flex;
    align-items: center;
}

.product-info-flex img {
    width: 60px;
    height: 60px;
    object-fit: cover;
    border-radius: 6px;
    margin-right: 15px;
}

.product-details {
    display: flex;
    flex-direction: column;
}
.product-details strong {
    font-size: 1.1em;
    font-weight: 600;
    color: #333;
}
.product-details small {
    color: #777;
    font-size: 0.9em;
}

/* Price column styling */
.taptosell-product-list td[data-label="Price"] {
    font-weight: 600;
    color: #23B574;
}


/* Status badge general styling */
.taptosell-status-badge {
    padding: 5px 12px;
    border-radius: 15px;
    font-size: 0.85em;
    font-weight: bold;
    text-transform: capitalize;
    display: inline-block;
}

/* Specific status badge colors */
.taptosell-status-badge.status-publish { background-color: #d4edda; color: #155724; }
.taptosell-status-badge.status-pending { background-color: #fff3cd; color: #856404; }
.taptosell-status-badge.status-draft { background-color: #e2e3e5; color: #383d41; }
.taptosell-status-badge.status-rejected { background-color: #f8d7da; color: #721c24; }

/* Rejection reason text */
.rejection-reason {
    display: block;
    font-size: 0.8em;
    color: #721c24;
    margin-top: 5px;
}

/* Action button icons */
.taptosell-button-icon {
    display: inline-block;
    padding: 8px;
    text-decoration: none;
    color: #555;
    border-radius: 50%;
    transition: background-color 0.2s ease, color 0.2s ease;
}

.taptosell-button-icon:hover {
    background-color: #f0f0f0;
    color: #000;
}

.taptosell-button-icon.delete:hover {
    background-color: #f8d7da;
    color: #721c24;
}

/* =================================================================
 * 11. Add New Product Form (New)
 * ================================================================= */

/* Main container for the form */
.taptosell-add-product-form {
    background-color: #f9f9f9; /* Light grey background for the whole page */
    border: none;
    padding: 0;
}

/* Header containing the title and action buttons */
.taptosell-add-product-form .form-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 25px;
    background-color: #ffffff;
    border-bottom: 1px solid #e0e0e0;
    margin-bottom: 25px;
}

.taptosell-add-product-form .form-header h1 {
    margin: 0;
    font-size: 24px;
}

/* Styling for individual form sections (e.g., Basic Information) */
.taptosell-form-section {
    background-color: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 5px;
    margin: 0 25px 25px; /* Side and bottom margins */
}

.taptosell-form-section .section-header {
    padding: 15px 20px;
    border-bottom: 1px solid #e0e0e0;
}

.taptosell-form-section .section-header h2 {
    margin: 0;
    font-size: 18px;
}

.taptosell-form-section .section-content {
    padding: 20px;
}

/* Styling for each row within a section */
.taptosell-form-section .form-row {
    margin-bottom: 20px;
}

.taptosell-form-section .form-row:last-child {
    margin-bottom: 0;
}

/* Helper text/hint below an input field */
.taptosell-form-section .form-hint {
    font-size: 13px;
    color: #777;
    margin-top: 8px;
    font-style: italic;
}

/* Styling for the secondary button (e.g., Save as Draft) */
.taptosell-container .taptosell-button.secondary {
    background-color: #6c757d !important; /* A neutral grey */
    border-color: #5a6268 !important;
}

.taptosell-container .taptosell-button.secondary:hover {
    background-color: #5a6268 !important; /* A darker grey on hover */
    border-color: #545b62 !important;
}

/* Add some space between the two buttons in the header */
.taptosell-add-product-form .form-actions .taptosell-button:not(:last-child) {
    margin-right: 10px;
}